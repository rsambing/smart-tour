
<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“Š Resultados - SmartTour Angola</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Reutilizar estilos da pÃ¡gina inicial */
        :root {
            --bg-dark: #1a1a1a;
            --bg-medium: #2d2d2d;
            --bg-light: #404040;
            --green-primary: #00d084;
            --green-secondary: #66ff99;
            --gold: #ffd700;
            --gold-light: #ffed4e;
            --white: #ffffff;
            --gray: #cccccc;
            --red-angola: #CE1126;
            --yellow-angola: #FFCD00;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-dark);
            color: var(--white);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--red-angola), var(--yellow-angola));
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--bg-medium);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid var(--green-primary);
        }
        
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .kpi-card {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .kpi-title {
            color: var(--gray);
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .kpi-value {
            font-size: 2.2em;
            font-weight: bold;
            color: var(--green-primary);
        }
        
        .btn {
            background: var(--green-primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: var(--green-secondary);
            transform: translateY(-2px);
        }
        
        .btn-gold {
            background: var(--gold);
            color: var(--bg-dark);
        }
        
        .section-title {
            color: var(--gold);
            border-bottom: 2px solid var(--green-primary);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .findings-list {
            list-style: none;
        }
        
        .findings-list li {
            background: var(--bg-light);
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--green-primary);
        }
        
        .findings-list li:before {
            content: "ðŸ’¡ ";
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-chart-bar"></i> Resultados da AnÃ¡lise</h1>
            <p>SmartTour Angola - Insights de Turismo SustentÃ¡vel</p>
        </div>
        
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 class="section-title" style="margin: 0;"><i class="fas fa-tachometer-alt"></i> KPIs Principais</h2>
                <div>
                    <a href="{{ url_for('index') }}" class="btn">
                        <i class="fas fa-arrow-left"></i> Voltar
                    </a>
                    <a href="{{ url_for('export_html') }}" class="btn btn-gold">
                        <i class="fas fa-download"></i> Exportar HTML
                    </a>
                </div>
            </div>
            
            <!-- KPIs de Turismo -->
            <h3 style="color: var(--green-secondary); margin: 20px 0 10px 0;">ðŸŽ¯ Turismo</h3>
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-title">Visitantes Anuais</div>
                    <div class="kpi-value">{{ "{:,}".format(kpis.tourism_kpis.total_annual_visitors) }}</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">Visitantes Estrangeiros</div>
                    <div class="kpi-value">{{ kpis.tourism_kpis.foreign_visitor_percentage }}%</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">Estadia MÃ©dia</div>
                    <div class="kpi-value">{{ kpis.tourism_kpis.average_stay_duration }} noites</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">VariaÃ§Ã£o Sazonal</div>
                    <div class="kpi-value">{{ kpis.tourism_kpis.seasonal_variation }}%</div>
                </div>
            </div>
            
            <!-- KPIs de Sustentabilidade -->
            <h3 style="color: var(--green-secondary); margin: 20px 0 10px 0;">ðŸŒ± Sustentabilidade</h3>
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-title">Sites SustentÃ¡veis</div>
                    <div class="kpi-value">{{ kpis.sustainability_kpis.sustainable_sites_percentage }}%</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">Capacidade Total</div>
                    <div class="kpi-value">{{ "{:,}".format(kpis.sustainability_kpis.total_eco_capacity) }}/dia</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">Score Sustentabilidade</div>
                    <div class="kpi-value">{{ "%.1f"|format(kpis.sustainability_kpis.average_sustainability_score) }}/10</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">ProvÃ­ncias Cobertas</div>
                    <div class="kpi-value">{{ kpis.sustainability_kpis.provinces_with_eco_sites }}</div>
                </div>
            </div>
            
            <!-- KPIs EconÃ´micos -->
            <h3 style="color: var(--green-secondary); margin: 20px 0 10px 0;">ðŸ’° EconÃ´mico</h3>
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-title">Receita Anual Estimada</div>
                    <div class="kpi-value" style="font-size: 1.8em;">{{ "{:,}".format(kpis.economic_kpis.estimated_annual_revenue) }} AOA</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-title">Taxa MÃ©dia por SÃ­tio</div>
                    <div class="kpi-value" style="font-size: 1.8em;">{{ "{:,.0f}".format(kpis.economic_kpis.average_site_fee) }} AOA</div>
                </div>
            </div>
        </div>
        
        <!-- Principais Achados -->
        <div class="card">
            <h2 class="section-title"><i class="fas fa-lightbulb"></i> Principais Achados</h2>
            <ul class="findings-list">
                {% for finding in summary.executive_summary.key_findings %}
                <li>{{ finding }}</li>
                {% endfor %}
            </ul>
        </div>
        
        <!-- RecomendaÃ§Ãµes -->
        <div class="card">
            <h2 class="section-title"><i class="fas fa-bullseye"></i> RecomendaÃ§Ãµes</h2>
            <ul class="findings-list">
                {% for recommendation in summary.executive_summary.recommendations %}
                <li style="border-left-color: var(--gold);">{{ recommendation }}</li>
                {% endfor %}
            </ul>
        </div>
        
        <!-- Top ProvÃ­ncias -->
        <div class="card">
            <h2 class="section-title"><i class="fas fa-trophy"></i> Top ProvÃ­ncias por Visitantes</h2>
            {% for province, data in summary.top_provinces.items() %}
            <div style="background: var(--bg-light); margin: 10px 0; padding: 20px; border-radius: 10px;">
                <h4 style="color: var(--gold); margin-bottom: 10px;">{{ loop.index }}. {{ province }}</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                    <div>
                        <strong style="color: var(--green-secondary);">Visitantes:</strong><br>
                        {{ "{:,}".format(data.visitors) }}
                    </div>
                    <div>
                        <strong style="color: var(--green-secondary);">Estrangeiros:</strong><br>
                        {{ data.foreign_share }}%
                    </div>
                    <div>
                        <strong style="color: var(--green-secondary);">Estadia MÃ©dia:</strong><br>
                        {{ "%.1f"|format(data.avg_stay) }} noites
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
